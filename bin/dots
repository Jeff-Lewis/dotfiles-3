#!/usr/bin/env zsh

print_usage() {
  echo "usage: dots [command] [options]"
}

local -a usage
zparseopts -D -- -help=usage h=usage

[[ -n $usage ]] && { print_usage >&2; exit 1 }

DOTS_MOUNT=${$(cd ${0%/*} && echo $PWD)%/*}
export DOTS_MOUNT

fpath=( "$DOTS_MOUNT/lib/dots/lib", "${fpath[@]}" )

#for file in $(find "$DOTS_MOUNT/lib/dots/lib" -depth 1); do
  #autoload -Uz ${file##*/}
#done

zsh "$DOTS_MOUNT/lib/dots/lib/$@[1].zsh"
